{"version":3,"sources":["js/utils.js","assets/advertisement_site/heart.svg","assets/advertisement_site/heart_filled.svg","apps/AdvertisementAppSite.js","index.js"],"names":["get","url","params","a","query","Object","keys","map","value","encodeURIComponent","join","url_","Promise","res","rej","fetch","method","then","json","answer","catch","err","error","code","text","toString","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref","svgRef","title","props","width","height","viewBox","fill","ref","ForwardRef","forwardRef","defaultParams","vk_access_token_settings","vk_app_id","vk_are_notifications_enabled","vk_is_app_user","vk_is_favorite","vk_language","vk_platform","vk_ref","vk_ts","vk_user_id","sign","AdvertisementAppSite","state","currentArticleSliceIndex","articles","articles_liked","componentDidMount","bind","resize","windowHeight","document","documentElement","clientHeight","isTabled","clientWidth","setState","getHash","window","location","hash","replaceAll","onload","onresize","onhashchange","apiUrl","article","find","id","image","date","likes","views","description","article_liked","className","alt","src","Date","toLocaleString","day","month","year","int","replace","e","shortIntegers","number","titles","needNumber","undefined","decCache","Math","min","decOfNum","onClick","element","href","click","remove","openUrl","style","color","background","splice","push","marginLeft","dangerouslySetInnerHTML","__html","slice","index","transform","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.03ebbe1d.chunk.js","sourcesContent":["import {default as bridge} from '@vkontakte/vk-bridge';\r\n\r\nexport function convertTextToLines(text, font, max_width) {\r\n    const\r\n        {createCanvas} = require('canvas'),\r\n        canvas = createCanvas(1080, 1920),\r\n        ctx = canvas.getContext('2d')\r\n    ;\r\n    ctx.font = font;\r\n    let width = 0, lines = [], result, i, j;\r\n\r\n    while (text.length) {\r\n        for (i = text.length; ctx.measureText(text.substr(0, i)).width > max_width; i--) ;\r\n        result = text.substr(0, i);\r\n\r\n        if (i !== text.length)\r\n\r\n            for (j = 0; result.indexOf(' ', j) !== -1; j = result.indexOf(' ', j) + 1) ;\r\n        lines.push(result.substr(0, j || result.length));\r\n\r\n        width = Math.max(width, ctx.measureText(lines[lines.length - 1]).width);\r\n        text = text.substr(lines[lines.length - 1].length, text.length);\r\n    }\r\n\r\n    return lines;\r\n}\r\n\r\nexport async function get(url, params) {\r\n    const\r\n        query = params ? '?' + Object.keys(params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(params[value])\r\n        ).join('&') : '',\r\n        url_ = `${url}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        fetch(url_, {method: 'GET'})\r\n            .then(res =>\r\n                res.json()\r\n            )\r\n            .then(answer =>\r\n                res(answer)\r\n            ).catch(err =>\r\n            res({error: {code: -1, text: err.toString()}})\r\n        );\r\n    });\r\n}\r\n\r\nexport const defaultFonts = [\r\n    'SF Pro Text',\r\n    'SF Pro Text Heavy',\r\n    'SF Pro Text Semibold',\r\n    'SF Pro Display',\r\n    'SF Pro Display Bold',\r\n    'SF Pro Display Semibold',\r\n    'SF Pro Display Medium',\r\n    'SF Pro Rounded',\r\n    'SF Pro Rounded Semibold',\r\n    'SF Pro Rounded Bold',\r\n    'SF UI Display',\r\n    'SF UI Text',\r\n    'TT Commons',\r\n    'TT Commons Bold',\r\n    'Manrope ExtraBold'\r\n];\r\n\r\nexport function loadFonts(fonts = defaultFonts) {\r\n    for (const font of fonts) {\r\n        const span = document.createElement('span');\r\n        span.style.fontFamily = font;\r\n        span.innerText = '.';\r\n        document.body.appendChild(span);\r\n        setTimeout(() => span.remove(), 1);\r\n    }\r\n}\r\n\r\nexport function animateValue(obj, start, end, duration) {\r\n    if (start === end || end - start === 1) {\r\n        obj.innerHTML = end;\r\n    } else {\r\n        let startTimestamp = null;\r\n        const step = (timestamp) => {\r\n            if (!startTimestamp) startTimestamp = timestamp;\r\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\r\n            obj.innerHTML = Math.floor(progress * (end - start) + start);\r\n            if (progress < 1) {\r\n                window.requestAnimationFrame(step);\r\n            }\r\n        };\r\n        window.requestAnimationFrame(step);\r\n    }\r\n}\r\n\r\nexport function cps(array) {\r\n    if (array.length !== 0) {\r\n        let\r\n            first_date = array[0],\r\n            cur_pos = 0,\r\n            clicks_per_second = []\r\n        ;\r\n        array = array.map(value => value - first_date);\r\n\r\n        for (const click of array) {\r\n            cur_pos = click < 1000 ? 0 : parseInt((click + '').substring(0, (click + '').length - 3));\r\n            clicks_per_second[cur_pos] = clicks_per_second[cur_pos] > 0 ? clicks_per_second[cur_pos] + 1 : 1;\r\n        }\r\n\r\n        clicks_per_second = clicks_per_second.filter(value => value > 0);\r\n\r\n        const\r\n            max_cps = Math.max(...clicks_per_second),\r\n            min_cps = Math.min(...clicks_per_second),\r\n            mid_cps = Math.ceil((max_cps + min_cps) / 2)\r\n        ;\r\n        return {max_cps, min_cps, mid_cps};\r\n    } else {\r\n        return {max_cps: 0, min_cps: 0, mid_cps: 0};\r\n    }\r\n}\r\n\r\nfunction componentToHex(c) {\r\n    const hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n}\r\n\r\nexport function rgbToHex(r, g, b) {\r\n    return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function decOfNum(number, titles, needNumber = true) {\r\n    if (number !== undefined) {\r\n        let decCache = [],\r\n            decCases = [2, 0, 1, 1, 1, 2];\r\n        if (!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\r\n        return (needNumber ? number + ' ' : '') + titles[decCache[number]];\r\n    }\r\n}\r\n\r\nexport function numToStr(number) {\r\n    if (number > 0 && number <= 10) {\r\n        const words = [\r\n            'первое', 'второе', 'третье', 'четвертое', 'пятое', 'шестое', 'седьмое', 'восьмое', 'девятое', 'десятое'\r\n        ];\r\n        return words[number - 1];\r\n    } else {\r\n        return number + '';\r\n    }\r\n}\r\n\r\nexport function shortIntegers(int) {\r\n    try {\r\n        return int.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n    } catch (e) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function nodeToString(node) {\r\n    let tmpNode = document.createElement(\"div\");\r\n    tmpNode.appendChild(node.cloneNode(true));\r\n    let str = tmpNode.innerHTML;\r\n    tmpNode = node = null;\r\n    return str;\r\n}\r\n\r\nexport function convertMiliseconds(miliseconds) {\r\n    let hours, minutes, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return hours + 'ч. ' + minutes + 'мин.';\r\n}\r\n\r\nexport function convertMsToNormalTime(miliseconds) {\r\n    let hours, minutes, seconds, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    seconds = parseInt(total_seconds % 60);\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return {hours, minutes, seconds};\r\n}\r\n\r\nconst getImage = (src) =>\r\n    new Promise((res, rej) => {\r\n        const image = new Image();\r\n\r\n        image.onload = () => res(image);\r\n        image.crossOrigin = 'anonymous';\r\n        image.onstalled = (e) => {\r\n            console.log('Failed to fetch data, but trying.', e);\r\n            rej(e);\r\n        };\r\n        image.onerror = (e) => {\r\n            console.log('Failed to fetch data, error.', e);\r\n            rej(e);\r\n        };\r\n        image.src = src;\r\n    });\r\n\r\nexport async function toBlob(object, dataUrl = true) {\r\n    const\r\n        myCanvas = document.createElement('canvas'),\r\n        ctxt = myCanvas.getContext('2d');\r\n\r\n    let base = typeof object === 'string' ? object : window.btoa(object);\r\n    const img = await getImage(typeof object === 'string' ? base : `data:image/svg+xml;base64,${base}`);\r\n    myCanvas.height = img.height;\r\n    myCanvas.width = img.width;\r\n    if (ctxt === null) {\r\n        return \"\";\r\n    }\r\n    ctxt.drawImage(img, 0, 0, img.width, img.height);\r\n    return dataUrl ? myCanvas.toDataURL() : myCanvas;\r\n}\r\n\r\nexport function getUrlParams() {\r\n    return window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\r\n}\r\n\r\nexport const platforms = {\r\n    desktop_web: /desktop_web/g,\r\n    mobile_android: /mobile_android/g,\r\n    mobile_android_messenger: /mobile_android_messenger/g,\r\n    mobile_ipad: /mobile_ipad/g,\r\n    mobile_iphone: /mobile_iphone/g,\r\n    mobile_iphone_messenger: /mobile_iphone_messenger/g,\r\n    mobile_web: /mobile_web/g,\r\n\r\n    android: /mobile_android|mobile_android_messenger/g,\r\n    ios: /mobile_ipad|mobile_iphone|mobile_iphone_messenger/g\r\n};\r\n\r\nexport function isPlatformIOS() {\r\n    return getUrlParams().vk_platform === 'mobile_iphone';\r\n}\r\n\r\nexport function isPlatformAndroid() {\r\n    return platforms.android.test(getUrlParams().vk_platform);\r\n}\r\n\r\nexport function isPlatformDesktop() {\r\n    return getUrlParams().vk_platform === 'desktop_web';\r\n}\r\n\r\nexport let vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl'];\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            users = users.concat(\r\n                await vkApiRequest('users.get', {\r\n                    user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                    fields: ['screen_name', 'photo_100', 'photo_200', ...name_cases].join(',')\r\n                })\r\n            );\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    return (await bridge.send('VKWebAppCallAPIMethod', {\r\n        method,\r\n        params: {\r\n            ...params,\r\n            v: '5.126',\r\n            access_token: params.access_token || '47bf45ba47bf45ba47bf45ba1347c8a732447bf47bf45ba271d2be46ed7aad788987004'\r\n        }\r\n    })).response\r\n}\r\n\r\nexport function viewportToPixels(value) {\r\n    const\r\n        parts = value.match(/([0-9\\.]+)(vh|vw)/),\r\n        q = Number(parts[1]),\r\n        side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]]\r\n    ;\r\n    return side * (q / 100)\r\n}\r\n\r\nexport function openUrl(url) {\r\n    const element = document.createElement('a');\r\n    element.href = url;\r\n    element.target = '_blank';\r\n    element.click();\r\n    element.remove();\r\n}\r\n\r\nexport function getUrlLocation() {\r\n    return window.location.origin + window.location.pathname.replace('/index.html', '');\r\n}\r\n\r\nexport function getSrcUrl(resource) {\r\n    return getUrlLocation() + resource.substring(1);\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.8933 3.57333C13.5528 3.23267 13.1485 2.96243 12.7036 2.77805C12.2586 2.59368 11.7817 2.49878 11.3 2.49878C10.8183 2.49878 10.3414 2.59368 9.89643 2.77805C9.45145 2.96243 9.04717 3.23267 8.70666 3.57333L8 4.28L7.29333 3.57333C6.60554 2.88554 5.67269 2.49914 4.7 2.49914C3.72731 2.49914 2.79446 2.88554 2.10666 3.57333C1.41887 4.26112 1.03247 5.19397 1.03247 6.16666C1.03247 7.13935 1.41887 8.0722 2.10666 8.76L2.81333 9.46666L8 14.6533L13.1867 9.46666L13.8933 8.76C14.234 8.41949 14.5042 8.01521 14.6886 7.57023C14.873 7.12526 14.9679 6.64832 14.9679 6.16666C14.9679 5.685 14.873 5.20807 14.6886 4.76309C14.5042 4.31812 14.234 3.91383 13.8933 3.57333V3.57333Z\",\n  stroke: \"#3E3E3E\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgHeart = function SvgHeart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHeart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart.67f84b51.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.8933 2.57333C13.5528 2.23267 13.1485 1.96243 12.7036 1.77805C12.2586 1.59368 11.7817 1.49878 11.3 1.49878C10.8183 1.49878 10.3414 1.59368 9.89643 1.77805C9.45145 1.96243 9.04717 2.23267 8.70666 2.57333L8 3.28L7.29333 2.57333C6.60554 1.88554 5.67269 1.49914 4.7 1.49914C3.72731 1.49914 2.79446 1.88554 2.10666 2.57333C1.41887 3.26112 1.03247 4.19397 1.03247 5.16666C1.03247 6.13935 1.41887 7.0722 2.10666 7.76L2.81333 8.46666L8 13.6533L13.1867 8.46666L13.8933 7.76C14.234 7.41949 14.5042 7.01521 14.6886 6.57023C14.873 6.12526 14.9679 5.64832 14.9679 5.16666C14.9679 4.685 14.873 4.20807 14.6886 3.76309C14.5042 3.31812 14.234 2.91383 13.8933 2.57333Z\",\n  fill: \"#FF5151\",\n  stroke: \"#FF5151\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgHeartFilled = function SvgHeartFilled(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 15,\n    viewBox: \"0 0 16 15\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHeartFilled, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart_filled.abf7ef8a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport '../css/AdvertisementAppSite.css';\r\nimport fetch from 'node-fetch';\r\nimport {} from \"@vkontakte/icons\";\r\nimport {openUrl, decOfNum, shortIntegers, get} from \"../js/utils\";\r\nimport {Icon24Chevron} from \"@vkontakte/icons\";\r\nimport {Icon16Link} from \"@vkontakte/icons\";\r\nimport {ReactComponent as Icon16Heart} from \"../assets/advertisement_site/heart.svg\";\r\nimport {ReactComponent as Icon16HeartFilled} from \"../assets/advertisement_site/heart_filled.svg\";\r\n\r\nconst\r\n    apiUrl = 'https://api.ad-app.ru/method/',\r\n    defaultParams = {\r\n        vk_access_token_settings: '',\r\n        vk_app_id: 7965382,\r\n        vk_are_notifications_enabled: 0,\r\n        vk_is_app_user: 0,\r\n        vk_is_favorite: 0,\r\n        vk_language: 'ru',\r\n        vk_platform: 'desktop_web',\r\n        vk_ref: 'other',\r\n        vk_ts: 1633116365,\r\n        vk_user_id: 246549084,\r\n        sign: '5qw1hh2Z9Gk6f0SpSnBHVA6Hy9Qn5HwNDy6pi_HuJik'\r\n    }\r\n;\r\n\r\nclass AdvertisementAppSite extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentArticleSliceIndex: 0,\r\n            articles: [],\r\n            articles_liked: []\r\n        };\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n\r\n        const\r\n            resize = () => {\r\n                const\r\n                    windowHeight = document.documentElement.clientHeight,\r\n                    windowWidth = document.documentElement.clientWidth,\r\n                    isTabled = windowWidth >= windowHeight\r\n                ;\r\n                this.setState({isTabled});\r\n            },\r\n            getHash = () => window.location.hash.replaceAll('#', '')\r\n        ;\r\n\r\n        window.onload = () => {\r\n            resize();\r\n        };\r\n        window.onresize = () => {\r\n            resize();\r\n        };\r\n        window.onhashchange = () => {\r\n            this.setState({hash: getHash()});\r\n        };\r\n        this.state.hash = getHash();\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            articles: await get(apiUrl + 'stickers.get', defaultParams)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {\r\n                isTabled, articles, currentArticleSliceIndex,\r\n                hash, articles_liked\r\n            } = this.state,\r\n\r\n            article = hash ? articles.find(value => value.id == hash.replaceAll('article', '')) : {},\r\n            {id, image, title, date, likes, views, description, url} = article,\r\n            article_liked = hash && articles_liked.indexOf(id) > -1\r\n        ;\r\n\r\n        return (\r\n            hash ?\r\n                <div className={`Article__Container Container__${isTabled ? 'tabled' : 'phone'}`}>\r\n                    <div className='Article__Info'>\r\n                        <div className='Article__Icon'>\r\n                            <img alt='article_icon' src={image}/>\r\n                        </div>\r\n                        <div className='Article__Titles'>\r\n                            <span>{title}</span>\r\n                            <br/>\r\n                            <span>{new Date(date).toLocaleString('ru', {\r\n                                day: 'numeric',\r\n                                month: 'numeric',\r\n                                year: 'numeric'\r\n                            })} · {shortIntegers(views)} {decOfNum(views, ['просмотр', 'просмотра', 'просмотров'], false)}</span>\r\n                        </div>\r\n                        <div className='Article__Actions'>\r\n                            <div onClick={() => openUrl(url)}>\r\n                                <Icon16Link/>\r\n                            </div>\r\n                            <div style={article_liked ? {\r\n                                color: '#FF5151',\r\n                                background: '#FFE3E3'\r\n                            } : {}} onClick={() => {\r\n                                if (article_liked)\r\n                                    articles_liked.splice(articles_liked.indexOf(id), 1);\r\n                                else\r\n                                    articles_liked.push(id);\r\n\r\n                                this.setState({articles_liked});\r\n                            }}>\r\n                                {\r\n                                    article_liked ? <Icon16HeartFilled/> : <Icon16Heart/>\r\n                                }\r\n                                <span style={{marginLeft: 10}}>\r\n                                    {likes}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <html dangerouslySetInnerHTML={{__html: description}} className='Article__Description'/>\r\n                </div>\r\n                :\r\n                <div className={`Main__Container Container__${isTabled ? 'tabled' : 'phone'}`}>\r\n                    <span className='Title'>Стикеры</span>\r\n                    <div className='Grid'>\r\n                        {\r\n                            articles.slice(0, 9 + currentArticleSliceIndex).map((({id, image, title, date, likes, views, description, url}, index) =>\r\n                                    <div className='Card' key={`Card_${index}`} onClick={() => {\r\n                                        const hash = 'article' + id;\r\n                                        this.setState({hash});\r\n                                        window.location.hash = hash;\r\n                                    }}>\r\n                                        <img alt='card_background' src={image} className='Card__Background'/>\r\n                                        <img alt='card_icon' src={image} className='Card__Icon'/>\r\n                                        <div className='Card__TextLayout'>\r\n                                            <span className='Card__Title'>{title}</span>\r\n                                            <br/>\r\n                                            <span className='Card__Date'>{new Date(date).toLocaleString('ru', {\r\n                                                day: 'numeric',\r\n                                                month: 'numeric',\r\n                                                year: 'numeric'\r\n                                            })}</span>\r\n                                        </div>\r\n                                    </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    {\r\n                        articles.length - currentArticleSliceIndex > 9 &&\r\n                        <div className='Button__ShowMore'\r\n                             onClick={() => this.setState({currentArticleSliceIndex: currentArticleSliceIndex + 9})}>\r\n                            <Icon24Chevron style={{transform: 'rotate(90deg)'}}/>\r\n                        </div>\r\n                    }\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdvertisementAppSite;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '@vkontakte/vkui/dist/unstable.css'\nimport {AdaptivityProvider, AppRoot, ConfigProvider} from \"@vkontakte/vkui\";\n\nimport './css/Fonts.css';\nimport './css/Error.css';\nimport './css/Utils.css';\n\n//import App from './apps/Tracker';\n//import App from './apps/Wheel';\n//import App from './apps/MedicalCard';\n//import App from './apps/AskMe';\n//import App from './apps/LoveAnalysis';\n//import App from './apps/BattleStat';\n//import App from './apps/BattleStatCatalog';\n//import App from './apps/YearTest';\n//import App from './apps/IQTest';\n//import App from './apps/MvsW';\n//import App from './apps/DeathDate';\n//import App from './apps/Slaves';\n//import App from './apps/VKTime';\n//import App from './apps/LikesStat';\n//import App from './apps/VKAccPrice';\n//import App from './apps/DateCelebrity';\n//import App from './apps/NameInCountry';\n//import App from './apps/AccKarma';\n//import App from './apps/AdvertisementApp';\nimport App from './apps/AdvertisementAppSite';\n//import App from './apps/ClickerBattle/ClickerBattle';\n\n\nReactDOM.render(\n    true ?\n        <App/>\n        :\n        <ConfigProvider>\n            <AdaptivityProvider>\n                <AppRoot>\n                    <App/>\n                </AppRoot>\n            </AdaptivityProvider>\n        </ConfigProvider>, document.getElementById('root')\n);\n"],"sourceRoot":""}