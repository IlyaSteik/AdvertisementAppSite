{"version":3,"sources":["js/utils.js","assets/advertisement_site/heart.svg","assets/advertisement_site/heart_filled.svg","apps/AdvertisementAppSite.js","index.js"],"names":["get","url","params","a","query","Object","keys","map","value","encodeURIComponent","join","url_","Promise","res","rej","fetch","method","then","json","answer","catch","err","error","code","text","toString","decOfNum","number","titles","needNumber","undefined","decCache","Math","min","getRandomInt","max","floor","random","openUrl","element","document","createElement","href","target","click","remove","appendScript","container","getElementById","script","innerHTML","id","body","appendChild","setTimeout","_extends","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref","svgRef","title","props","width","height","viewBox","fill","ref","ForwardRef","forwardRef","apiUrl","defaultParams","vk_access_token_settings","vk_app_id","vk_are_notifications_enabled","vk_is_app_user","vk_is_favorite","vk_language","vk_platform","vk_ref","vk_ts","vk_user_id","sign","AdvertisementAppSite","state","currentArticleSliceIndex","articles","articles_liked","componentDidMount","bind","resize","windowHeight","documentElement","clientHeight","isTabled","clientWidth","setState","window","onload","onresize","onhashchange","console","log","hash","location","replaceAll","article","find","getStickers","article_info","loadAdvertArticlePage","loadAdvertMainPage","updateArticles","response","like","likes","popout","isArticle","image","date","views","description","stickers","article_liked","Fragment","className","onClick","style","marginLeft","alt","src","Date","toLocaleString","day","month","year","int","replace","e","shortIntegers","color","background","splice","push","likeArticle","dangerouslySetInnerHTML","__html","index","count","array","getRandomInts","overflow","marginTop","slice","transform","display","getFullYear","host","toUpperCase","React","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.6d295659.chunk.js","sourcesContent":["import {default as bridge} from '@vkontakte/vk-bridge';\r\n\r\nexport function convertTextToLines(text, font, max_width) {\r\n    const\r\n        {createCanvas} = require('canvas'),\r\n        canvas = createCanvas(1080, 1920),\r\n        ctx = canvas.getContext('2d')\r\n    ;\r\n    ctx.font = font;\r\n    let width = 0, lines = [], result, i, j;\r\n\r\n    while (text.length) {\r\n        for (i = text.length; ctx.measureText(text.substr(0, i)).width > max_width; i--) ;\r\n        result = text.substr(0, i);\r\n\r\n        if (i !== text.length)\r\n\r\n            for (j = 0; result.indexOf(' ', j) !== -1; j = result.indexOf(' ', j) + 1) ;\r\n        lines.push(result.substr(0, j || result.length));\r\n\r\n        width = Math.max(width, ctx.measureText(lines[lines.length - 1]).width);\r\n        text = text.substr(lines[lines.length - 1].length, text.length);\r\n    }\r\n\r\n    return lines;\r\n}\r\n\r\nexport async function get(url, params) {\r\n    const\r\n        query = params ? '?' + Object.keys(params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(params[value])\r\n        ).join('&') : '',\r\n        url_ = `${url}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        fetch(url_, {method: 'GET'})\r\n            .then(res =>\r\n                res.json()\r\n            )\r\n            .then(answer =>\r\n                res(answer)\r\n            ).catch(err =>\r\n            res({error: {code: -1, text: err.toString()}})\r\n        );\r\n    });\r\n}\r\n\r\nexport const defaultFonts = [\r\n    'SF Pro Text',\r\n    'SF Pro Text Heavy',\r\n    'SF Pro Text Semibold',\r\n    'SF Pro Display',\r\n    'SF Pro Display Bold',\r\n    'SF Pro Display Semibold',\r\n    'SF Pro Display Medium',\r\n    'SF Pro Rounded',\r\n    'SF Pro Rounded Semibold',\r\n    'SF Pro Rounded Bold',\r\n    'SF UI Display',\r\n    'SF UI Text',\r\n    'TT Commons',\r\n    'TT Commons Bold',\r\n    'TT Commons Demibold',\r\n    'Manrope ExtraBold'\r\n];\r\n\r\nexport function loadFonts(fonts = defaultFonts) {\r\n    for (const font of fonts) {\r\n        const span = document.createElement('span');\r\n        span.style.fontFamily = font;\r\n        span.innerText = '.';\r\n        document.body.appendChild(span);\r\n        setTimeout(() => span.remove(), 1);\r\n    }\r\n}\r\n\r\nexport function animateValue(obj, start, end, duration) {\r\n    if (start === end || end - start === 1) {\r\n        obj.innerHTML = end;\r\n    } else {\r\n        let startTimestamp = null;\r\n        const step = (timestamp) => {\r\n            if (!startTimestamp) startTimestamp = timestamp;\r\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\r\n            obj.innerHTML = Math.floor(progress * (end - start) + start);\r\n            if (progress < 1) {\r\n                window.requestAnimationFrame(step);\r\n            }\r\n        };\r\n        window.requestAnimationFrame(step);\r\n    }\r\n}\r\n\r\nexport function cps(array) {\r\n    if (array.length !== 0) {\r\n        let\r\n            first_date = array[0],\r\n            cur_pos = 0,\r\n            clicks_per_second = []\r\n        ;\r\n        array = array.map(value => value - first_date);\r\n\r\n        for (const click of array) {\r\n            cur_pos = click < 1000 ? 0 : parseInt((click + '').substring(0, (click + '').length - 3));\r\n            clicks_per_second[cur_pos] = clicks_per_second[cur_pos] > 0 ? clicks_per_second[cur_pos] + 1 : 1;\r\n        }\r\n\r\n        clicks_per_second = clicks_per_second.filter(value => value > 0);\r\n\r\n        const\r\n            max_cps = Math.max(...clicks_per_second),\r\n            min_cps = Math.min(...clicks_per_second),\r\n            mid_cps = Math.ceil((max_cps + min_cps) / 2)\r\n        ;\r\n        return {max_cps, min_cps, mid_cps};\r\n    } else {\r\n        return {max_cps: 0, min_cps: 0, mid_cps: 0};\r\n    }\r\n}\r\n\r\nfunction componentToHex(c) {\r\n    const hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n}\r\n\r\nexport function rgbToHex(r, g, b) {\r\n    return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function decOfNum(number, titles, needNumber = true) {\r\n    if (number !== undefined) {\r\n        let decCache = [],\r\n            decCases = [2, 0, 1, 1, 1, 2];\r\n        if (!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\r\n        return (needNumber ? number + ' ' : '') + titles[decCache[number]];\r\n    }\r\n}\r\n\r\nexport function numToStr(number) {\r\n    if (number > 0 && number <= 10) {\r\n        const words = [\r\n            'первое', 'второе', 'третье', 'четвертое', 'пятое', 'шестое', 'седьмое', 'восьмое', 'девятое', 'десятое'\r\n        ];\r\n        return words[number - 1];\r\n    } else {\r\n        return number + '';\r\n    }\r\n}\r\n\r\nexport function shortIntegers(int) {\r\n    try {\r\n        return int.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n    } catch (e) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function getRandomInts(min, max, count) {\r\n    const array = [];\r\n    for (let i = 0; i < count; i++) {\r\n        const int = getRandomInt(min, max);\r\n        if (array.indexOf(int) === -1) {\r\n            array.push(int);\r\n        } else {\r\n            if (max >= count)\r\n                i--;\r\n            else\r\n                array.push(int);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\nexport function nodeToString(node) {\r\n    let tmpNode = document.createElement(\"div\");\r\n    tmpNode.appendChild(node.cloneNode(true));\r\n    let str = tmpNode.innerHTML;\r\n    tmpNode = node = null;\r\n    return str;\r\n}\r\n\r\nexport function convertMiliseconds(miliseconds) {\r\n    let hours, minutes, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return hours + 'ч. ' + minutes + 'мин.';\r\n}\r\n\r\nexport function convertMsToNormalTime(miliseconds) {\r\n    let hours, minutes, seconds, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    seconds = parseInt(total_seconds % 60);\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return {hours, minutes, seconds};\r\n}\r\n\r\nconst getImage = (src) =>\r\n    new Promise((res, rej) => {\r\n        const image = new Image();\r\n\r\n        image.onload = () => res(image);\r\n        image.crossOrigin = 'anonymous';\r\n        image.onstalled = (e) => {\r\n            console.log('Failed to fetch data, but trying.', e);\r\n            rej(e);\r\n        };\r\n        image.onerror = (e) => {\r\n            console.log('Failed to fetch data, error.', e);\r\n            rej(e);\r\n        };\r\n        image.src = src;\r\n    });\r\n\r\nexport async function toBlob(object, dataUrl = true) {\r\n    const\r\n        myCanvas = document.createElement('canvas'),\r\n        ctxt = myCanvas.getContext('2d');\r\n\r\n    let base = typeof object === 'string' ? object : window.btoa(object);\r\n    const img = await getImage(typeof object === 'string' ? base : `data:image/svg+xml;base64,${base}`);\r\n    myCanvas.height = img.height;\r\n    myCanvas.width = img.width;\r\n    if (ctxt === null) {\r\n        return \"\";\r\n    }\r\n    ctxt.drawImage(img, 0, 0, img.width, img.height);\r\n    return dataUrl ? myCanvas.toDataURL() : myCanvas;\r\n}\r\n\r\nexport function getUrlParams() {\r\n    return window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\r\n}\r\n\r\nexport const platforms = {\r\n    desktop_web: /desktop_web/g,\r\n    mobile_android: /mobile_android/g,\r\n    mobile_android_messenger: /mobile_android_messenger/g,\r\n    mobile_ipad: /mobile_ipad/g,\r\n    mobile_iphone: /mobile_iphone/g,\r\n    mobile_iphone_messenger: /mobile_iphone_messenger/g,\r\n    mobile_web: /mobile_web/g,\r\n\r\n    android: /mobile_android|mobile_android_messenger/g,\r\n    ios: /mobile_ipad|mobile_iphone|mobile_iphone_messenger/g\r\n};\r\n\r\nexport function isPlatformIOS() {\r\n    return getUrlParams().vk_platform === 'mobile_iphone';\r\n}\r\n\r\nexport function isPlatformAndroid() {\r\n    return platforms.android.test(getUrlParams().vk_platform);\r\n}\r\n\r\nexport function isPlatformDesktop() {\r\n    return getUrlParams().vk_platform === 'desktop_web';\r\n}\r\n\r\nexport let\r\n    vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl']\r\n;\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            users = users.concat(\r\n                await vkApiRequest('users.get', {\r\n                    user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                    fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n                })\r\n            );\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    return (await bridge.send('VKWebAppCallAPIMethod', {\r\n        method,\r\n        params: {\r\n            ...params,\r\n            v: '5.126',\r\n            access_token: params.access_token\r\n        }\r\n    })).response\r\n}\r\n\r\nexport function viewportToPixels(value) {\r\n    const\r\n        parts = value.match(/([0-9\\.]+)(vh|vw)/),\r\n        q = Number(parts[1]),\r\n        side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]]\r\n    ;\r\n    return side * (q / 100)\r\n}\r\n\r\nexport function openUrl(url) {\r\n    const element = document.createElement('a');\r\n    element.href = url;\r\n    element.target = '_blank';\r\n    element.click();\r\n    element.remove();\r\n}\r\n\r\nexport function getUrlLocation() {\r\n    return window.location.origin + window.location.pathname.replace('/index.html', '');\r\n}\r\n\r\nexport function getSrcUrl(resource) {\r\n    return getUrlLocation() + resource.substring(1);\r\n}\r\n\r\nexport async function getBase64Image(imageUri) {\r\n    const\r\n        canvas = document.createElement('canvas'),\r\n        ctx = canvas.getContext('2d'),\r\n        img = new Image()\r\n    ;\r\n    img.src = 'https://murmuring-bastion-20764.herokuapp.com/' + imageUri;\r\n    img.crossOrigin = 'Anonymous';\r\n    return await new Promise(resolve =>\r\n        img.onload = function () {\r\n            canvas.width = this.width;\r\n            canvas.height = this.height;\r\n            ctx.drawImage(img, 0, 0, this.width, this.height);\r\n            resolve(canvas.toDataURL('image/png'));\r\n        }\r\n    );\r\n}\r\n\r\nexport function appendScript(code) {\r\n    let\r\n        container = document.getElementById('advert_container'),\r\n        script = document.createElement('script')\r\n    ;\r\n    script.innerHTML = code;\r\n    if (container === null) {\r\n        container = document.createElement('div');\r\n        container.id = 'advert_container';\r\n        document.body.appendChild(container);\r\n    }\r\n    container.innerHTML = '';\r\n    setTimeout(() => {\r\n        container.appendChild(script);\r\n    }, 400);\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.8933 3.57333C13.5528 3.23267 13.1485 2.96243 12.7036 2.77805C12.2586 2.59368 11.7817 2.49878 11.3 2.49878C10.8183 2.49878 10.3414 2.59368 9.89643 2.77805C9.45145 2.96243 9.04717 3.23267 8.70666 3.57333L8 4.28L7.29333 3.57333C6.60554 2.88554 5.67269 2.49914 4.7 2.49914C3.72731 2.49914 2.79446 2.88554 2.10666 3.57333C1.41887 4.26112 1.03247 5.19397 1.03247 6.16666C1.03247 7.13935 1.41887 8.0722 2.10666 8.76L2.81333 9.46666L8 14.6533L13.1867 9.46666L13.8933 8.76C14.234 8.41949 14.5042 8.01521 14.6886 7.57023C14.873 7.12526 14.9679 6.64832 14.9679 6.16666C14.9679 5.685 14.873 5.20807 14.6886 4.76309C14.5042 4.31812 14.234 3.91383 13.8933 3.57333V3.57333Z\",\n  stroke: \"#3E3E3E\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgHeart = function SvgHeart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHeart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart.67f84b51.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13.8933 2.57333C13.5528 2.23267 13.1485 1.96243 12.7036 1.77805C12.2586 1.59368 11.7817 1.49878 11.3 1.49878C10.8183 1.49878 10.3414 1.59368 9.89643 1.77805C9.45145 1.96243 9.04717 2.23267 8.70666 2.57333L8 3.28L7.29333 2.57333C6.60554 1.88554 5.67269 1.49914 4.7 1.49914C3.72731 1.49914 2.79446 1.88554 2.10666 2.57333C1.41887 3.26112 1.03247 4.19397 1.03247 5.16666C1.03247 6.13935 1.41887 7.0722 2.10666 7.76L2.81333 8.46666L8 13.6533L13.1867 8.46666L13.8933 7.76C14.234 7.41949 14.5042 7.01521 14.6886 6.57023C14.873 6.12526 14.9679 5.64832 14.9679 5.16666C14.9679 4.685 14.873 4.20807 14.6886 3.76309C14.5042 3.31812 14.234 2.91383 13.8933 2.57333Z\",\n  fill: \"#FF5151\",\n  stroke: \"#FF5151\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgHeartFilled = function SvgHeartFilled(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 15,\n    viewBox: \"0 0 16 15\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHeartFilled, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart_filled.abf7ef8a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport '../css/AdvertisementAppSite.css';\r\nimport fetch from 'node-fetch';\r\nimport {} from \"@vkontakte/icons\";\r\nimport {openUrl, decOfNum, shortIntegers, get, getRandomInts, appendScript} from \"../js/utils\";\r\nimport {Icon24Chevron} from \"@vkontakte/icons\";\r\nimport {Icon16Link, Icon28HomeOutline} from \"@vkontakte/icons\";\r\nimport {ReactComponent as Icon16Heart} from \"../assets/advertisement_site/heart.svg\";\r\nimport {ReactComponent as Icon16HeartFilled} from \"../assets/advertisement_site/heart_filled.svg\";\r\n\r\nconst\r\n    apiUrl = 'https://api.ad-app.ru/method/',\r\n    defaultParams = {\r\n        vk_access_token_settings: '',\r\n        vk_app_id: 7965382,\r\n        vk_are_notifications_enabled: 0,\r\n        vk_is_app_user: 0,\r\n        vk_is_favorite: 0,\r\n        vk_language: 'ru',\r\n        vk_platform: 'desktop_web',\r\n        vk_ref: 'other',\r\n        vk_ts: 1633116365,\r\n        vk_user_id: 246549084,\r\n        sign: '5qw1hh2Z9Gk6f0SpSnBHVA6Hy9Qn5HwNDy6pi_HuJik'\r\n    }\r\n;\r\n\r\nclass AdvertisementAppSite extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentArticleSliceIndex: 0,\r\n            articles: [],\r\n            articles_liked: []\r\n        };\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n\r\n        const\r\n            resize = () => {\r\n                const\r\n                    windowHeight = document.documentElement.clientHeight,\r\n                    windowWidth = document.documentElement.clientWidth,\r\n                    isTabled = windowWidth >= windowHeight\r\n                ;\r\n                this.setState({isTabled});\r\n            },\r\n            getHash = () => window.location.hash.replaceAll('#', '')\r\n        ;\r\n\r\n        window.onload = () => {\r\n            resize();\r\n        };\r\n        window.onresize = () => {\r\n            resize();\r\n        };\r\n        window.onhashchange = async () => {\r\n            console.log('onhashchange');\r\n            const\r\n                hash = getHash(),\r\n                article = this.state.articles.find(value => value.id == hash.replaceAll('article', ''))\r\n            ;\r\n            if (article) {\r\n                await this.setState({article_info: (await this.getStickers(article.id))});\r\n                setTimeout(() => {\r\n                    appendScript(this.loadAdvertArticlePage);\r\n                }, 400);\r\n            } else {\r\n                await this.setState({article_info: undefined});\r\n                setTimeout(() => {\r\n                    appendScript(this.loadAdvertMainPage);\r\n                }, 400);\r\n            }\r\n        };\r\n        this.loadAdvertArticlePage = `\r\n            (function(w, d, n, s, t) {\r\n            w[n] = w[n] || [];\r\n            w[n].push(function() {\r\n            Ya.Context.AdvManager.render({\r\n            blockId: \"R-A-1311671-30\",\r\n            renderTo: \"yandex_rtb_R-A-1311671-30\",\r\n            async: true\r\n            });\r\n            });\r\n            t = d.getElementsByTagName(\"script\")[0];\r\n            s = d.createElement(\"script\");\r\n            s.type = \"text/javascript\";\r\n            s.src = \"//an.yandex.ru/system/context.js\";\r\n            s.async = true;\r\n            t.parentNode.insertBefore(s, t);\r\n            })(this, this.document, \"yandexContextAsyncCallbacks\");\r\n        `;\r\n\r\n        this.loadAdvertMainPage = `\r\n            (function(w, d, n, s, t) {\r\n            w[n] = w[n] || [];\r\n            w[n].push(function() {\r\n            Ya.Context.AdvManager.render({\r\n            blockId: \"R-A-1311671-31\",\r\n            renderTo: \"yandex_rtb_R-A-1311671-31\",\r\n            async: true\r\n            });\r\n            });\r\n            t = d.getElementsByTagName(\"script\")[0];\r\n            s = d.createElement(\"script\");\r\n            s.type = \"text/javascript\";\r\n            s.src = \"//an.yandex.ru/system/context.js\";\r\n            s.async = true;\r\n            t.parentNode.insertBefore(s, t);\r\n            })(this, this.document, \"yandexContextAsyncCallbacks\");\r\n        `;\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.updateArticles();\r\n        window.onhashchange();\r\n    }\r\n\r\n    async updateArticles() {\r\n        await this.setState({\r\n            articles: (await get(apiUrl + 'stickers.get', defaultParams)).response,\r\n            article_info: undefined\r\n        });\r\n        return true;\r\n    }\r\n\r\n    async getStickers(id) {\r\n        return (await get(apiUrl + 'stickers.getById', {...defaultParams, id})).response;\r\n    }\r\n\r\n    async likeArticle(id, like) {\r\n        await get(apiUrl + 'stickers.like', {...defaultParams, id, like});\r\n        const {article_info} = this.state;\r\n        await this.setState({article_info: Object.assign(article_info, {likes: article_info.likes + like ? 1 : -1})});\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {\r\n                isTabled, articles, currentArticleSliceIndex,\r\n                articles_liked,\r\n\r\n                article_info,\r\n\r\n                popout\r\n            } = this.state,\r\n\r\n            isArticle = article_info !== undefined,\r\n            {id, image, title, date, likes, views, description, url, stickers} = isArticle ? article_info : {},\r\n            article_liked = isArticle && articles_liked.indexOf(id) > -1\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    isArticle ?\r\n                        <div className={`Article__Container Container__${isTabled ? 'tabled' : 'phone'}`}>\r\n                            <div className='Button__Main' onClick={() => {\r\n                                window.location.hash = '';\r\n                                this.updateArticles();\r\n                            }}>\r\n                                <Icon28HomeOutline width={16} height={16} fill='#3687FF'/>\r\n                                <span style={{marginLeft: 10}}>\r\n                            На главную\r\n                        </span>\r\n                            </div>\r\n                            <div className='Article__Info'>\r\n                                <div className='Article__Icon'>\r\n                                    <img alt='article_icon' src={image}/>\r\n                                </div>\r\n                                <div className='Article__Titles'>\r\n                                    <span>{title}</span>\r\n                                    <br/>\r\n                                    <span>{new Date(date).toLocaleString('ru', {\r\n                                        day: 'numeric',\r\n                                        month: 'numeric',\r\n                                        year: 'numeric'\r\n                                    })} · {shortIntegers(views)} {decOfNum(views, ['просмотр', 'просмотра', 'просмотров'], false)}</span>\r\n                                </div>\r\n                                <div className='Article__Actions'>\r\n                                    <div onClick={() => openUrl(url)}>\r\n                                        <Icon16Link/>\r\n                                    </div>\r\n                                    <div style={article_liked ? {\r\n                                        color: '#FF5151',\r\n                                        background: '#FFE3E3'\r\n                                    } : {}} onClick={async () => {\r\n                                        if (article_liked)\r\n                                            articles_liked.splice(articles_liked.indexOf(id), 1);\r\n                                        else\r\n                                            articles_liked.push(id);\r\n\r\n                                        await this.likeArticle(id, !article_liked);\r\n                                        this.setState({articles_liked});\r\n                                    }}>\r\n                                        {\r\n                                            article_liked ? <Icon16HeartFilled/> : <Icon16Heart/>\r\n                                        }\r\n                                        <span style={{marginLeft: 10}}>\r\n                                    {likes}\r\n                                </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <html dangerouslySetInnerHTML={{__html: description}} className='Article__Description'/>\r\n                            <div className='ArticleAdvert' id=\"yandex_rtb_R-A-1311671-30\"></div>\r\n                            {\r\n                                stickers &&\r\n                                <div className='Article__Stickers'>\r\n                                    <span>Набор содержит {decOfNum(stickers.length, ['стикер', 'стикера', 'стикеров'])}:</span>\r\n                                    <br/>\r\n                                    <div>\r\n                                        {\r\n                                            stickers.map(\r\n                                                (value, index) =>\r\n                                                    <img alt='sticker' key={'Img_' + index}\r\n                                                         src={`https://vk.com/sticker/${value}/128.png`}/>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            <div className='Article__Rec'>\r\n                                <span>Смотрите так же:</span>\r\n                                <br/>\r\n                                <div>\r\n                                    {\r\n                                        getRandomInts(0, articles.length - 1, 3).map(\r\n                                            (value, index) =>\r\n                                                <div key={'div_' + index}\r\n                                                     onClick={() => window.location.hash = `article${articles[value].id}`}>\r\n                                                    <img alt='Icon' src={articles[value].image}/>\r\n                                                    <span>{articles[value].title}</span>\r\n                                                </div>\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div\r\n                            className={`Main__Container Container__${isTabled ? 'tabled' : 'phone'}`}\r\n                            style={{overflow: popout && 'hidden'}}\r\n                        >\r\n                            {\r\n                                popout\r\n                            }\r\n                            <span className='Title'>\r\n                        Стикеры\r\n                        <div>\r\n                            <div\r\n                                className='Button'\r\n                                onClick={() =>\r\n                                    this.setState({\r\n                                        popout: <div className='Popout' onClick={() => this.setState({popout: null})}>\r\n                                            <div className='Text'>\r\n                                                Данный сайт не является официальным сайтом ВКонтакте, и не несёт\r\n                                                ответственности за актуальность той или иной информации.<br/>\r\n                                                <br/>\r\n                                                Мы собираем информацию о стикерах ВКонтакте, и выкладываем их на сайт.\r\n                                                Своевременно мы проверяем актуальность темы, и принимаем соответствующие\r\n                                                действия.\r\n                                            </div>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            >\r\n                                О нас\r\n                            </div>\r\n                            <div\r\n                                className='Button'\r\n                                onClick={() =>\r\n                                    this.setState({\r\n                                        popout: <div className='Popout' onClick={() => this.setState({popout: null})}>\r\n                                            <div className='Text'>\r\n                                                За получением обратной связи Вы можете обратиться в нашу группу\r\n                                                ВКонтакте.\r\n                                            </div>\r\n                                            <div\r\n                                                className='Button' style={{marginTop: 24}}\r\n                                                onClick={() => openUrl('https://vk.me/club193090865')}\r\n                                            >\r\n                                                Написать\r\n                                            </div>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            >\r\n                                Контакты\r\n                            </div>\r\n                        </div>\r\n                    </span>\r\n                            <div className='Grid'>\r\n                                {\r\n                                    articles.slice(0, 9 + currentArticleSliceIndex).map((({id, image, title, date, likes, views, description, url}, index) =>\r\n                                            <div className='Card' key={`Card_${index}`} onClick={() =>\r\n                                                window.location.hash = 'article' + id\r\n                                            }>\r\n                                                <img alt='card_background' src={image} className='Card__Background'/>\r\n                                                <img alt='card_icon' src={image} className='Card__Icon'/>\r\n                                                <div className='Card__TextLayout'>\r\n                                                    <span className='Card__Title'>{title}</span>\r\n                                                    <br/>\r\n                                                    <span className='Card__Date'>{new Date(date).toLocaleString('ru', {\r\n                                                        day: 'numeric',\r\n                                                        month: 'numeric',\r\n                                                        year: 'numeric'\r\n                                                    })}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                    ))\r\n                                }\r\n                                <div className='Card' id=\"yandex_rtb_R-A-1311671-31\"></div>\r\n                            </div>\r\n                            {\r\n                                articles.length - currentArticleSliceIndex > 9 &&\r\n                                <div className='Button__ShowMore'\r\n                                     onClick={() => this.setState({currentArticleSliceIndex: currentArticleSliceIndex + 9})}>\r\n                                    <Icon24Chevron style={{transform: 'rotate(90deg)', display: 'block'}}/>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                }\r\n                <div className='Footer'>\r\n                    © {new Date().getFullYear()} {window.location.host.toUpperCase()}\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdvertisementAppSite;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '@vkontakte/vkui/dist/unstable.css'\nimport {AdaptivityProvider, AppRoot, ConfigProvider} from \"@vkontakte/vkui\";\n\nimport './css/Fonts.css';\nimport './css/Error.css';\nimport './css/Utils.css';\n\n//import App from './apps/Tracker';\n//import App from './apps/Wheel';\n//import App from './apps/MedicalCard';\n//import App from './apps/AskMe';\n//import App from './apps/LoveAnalysis';\n//import App from './apps/BattleStat';\n//import App from './apps/BattleStatCatalog';\n//import App from './apps/YearTest';\n//import App from './apps/IQTest';\n//import App from './apps/MvsW';\n//import App from './apps/DeathDate';\n//import App from './apps/DeathDate2';\n//import App from './apps/Slaves';\n//import App from './apps/VKTime';\n//import App from './apps/LikesStat';\n//import App from './apps/VKAccPrice';\n//import App from './apps/DateCelebrity';\n//import App from './apps/NameInCountry';\n//import App from './apps/AccKarma';\n//import App from './apps/AdvertisementApp';\nimport App from './apps/AdvertisementAppSite';\n//import App from './apps/ClickerBattle/ClickerBattle';\n//import App from './apps/Drawing/Drawing';\n//import App from './apps/Drawing/Global';\n//import App from './apps/RandomCooking';\n\n\nReactDOM.render(\n    true ?\n        <App/>\n        :\n        <ConfigProvider>\n            <AdaptivityProvider>\n                <AppRoot>\n                    <App/>\n                </AppRoot>\n            </AdaptivityProvider>\n        </ConfigProvider>, document.getElementById('root')\n);\n"],"sourceRoot":""}