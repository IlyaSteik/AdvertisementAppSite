(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{204:function(e,t,n){e.exports=n(296)},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},291:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);n(205),n(231),n(233),n(234),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273);var r=n(0),a=n.n(r),c=n(76),i=n.n(c),l=(n(281),n(282),n(295),n(287),n(288),n(289),n(35)),o=n(6),s=n.n(o),u=n(11),f=n(79),p=n(80),m=n(84),d=n(81),v=n(36),h=n(85);n(291),n(292),n(38),n(82);function k(e,t){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?"?"+Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"):"",a="".concat(t).concat(r),e.next=3,new Promise((function(e,t){fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){return e({error:{code:-1,text:t.toString()}})}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e){var r=[];return r[e]||(r[e]=e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]),(n?e+" ":"")+t[r[e]]}}function b(e,t){return Math.floor(Math.random()*(t-e+1))+e}var E=n(300),w=n(298),y=n(299);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var j=a.a.createElement("path",{d:"M13.8933 3.57333C13.5528 3.23267 13.1485 2.96243 12.7036 2.77805C12.2586 2.59368 11.7817 2.49878 11.3 2.49878C10.8183 2.49878 10.3414 2.59368 9.89643 2.77805C9.45145 2.96243 9.04717 3.23267 8.70666 3.57333L8 4.28L7.29333 3.57333C6.60554 2.88554 5.67269 2.49914 4.7 2.49914C3.72731 2.49914 2.79446 2.88554 2.10666 3.57333C1.41887 4.26112 1.03247 5.19397 1.03247 6.16666C1.03247 7.13935 1.41887 8.0722 2.10666 8.76L2.81333 9.46666L8 14.6533L13.1867 9.46666L13.8933 8.76C14.234 8.41949 14.5042 8.01521 14.6886 7.57023C14.873 7.12526 14.9679 6.64832 14.9679 6.16666C14.9679 5.685 14.873 5.20807 14.6886 4.76309C14.5042 4.31812 14.234 3.91383 13.8933 3.57333V3.57333Z",stroke:"#3E3E3E",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round"}),x=function(e){var t=e.svgRef,n=e.title,r=C(e,["svgRef","title"]);return a.a.createElement("svg",O({width:16,height:17,viewBox:"0 0 16 17",fill:"none",ref:t},r),n?a.a.createElement("title",null,n):null,j)},S=a.a.forwardRef((function(e,t){return a.a.createElement(x,O({svgRef:t},e))}));n.p;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var N=a.a.createElement("path",{d:"M13.8933 2.57333C13.5528 2.23267 13.1485 1.96243 12.7036 1.77805C12.2586 1.59368 11.7817 1.49878 11.3 1.49878C10.8183 1.49878 10.3414 1.59368 9.89643 1.77805C9.45145 1.96243 9.04717 2.23267 8.70666 2.57333L8 3.28L7.29333 2.57333C6.60554 1.88554 5.67269 1.49914 4.7 1.49914C3.72731 1.49914 2.79446 1.88554 2.10666 2.57333C1.41887 3.26112 1.03247 4.19397 1.03247 5.16666C1.03247 6.13935 1.41887 7.0722 2.10666 7.76L2.81333 8.46666L8 13.6533L13.1867 8.46666L13.8933 7.76C14.234 7.41949 14.5042 7.01521 14.6886 6.57023C14.873 6.12526 14.9679 5.64832 14.9679 5.16666C14.9679 4.685 14.873 4.20807 14.6886 3.76309C14.5042 3.31812 14.234 2.91383 13.8933 2.57333Z",fill:"#FF5151",stroke:"#FF5151",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round"}),I=function(e){var t=e.svgRef,n=e.title,r=A(e,["svgRef","title"]);return a.a.createElement("svg",L({width:16,height:15,viewBox:"0 0 16 15",fill:"none",ref:t},r),n?a.a.createElement("title",null,n):null,N)},P=a.a.forwardRef((function(e,t){return a.a.createElement(I,L({svgRef:t},e))}));n.p;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R="https://api.ad-app.ru/method/",F={vk_access_token_settings:"",vk_app_id:7965382,vk_are_notifications_enabled:0,vk_is_app_user:0,vk_is_favorite:0,vk_language:"ru",vk_platform:"desktop_web",vk_ref:"other",vk_ts:1633116365,vk_user_id:246549084,sign:"5qw1hh2Z9Gk6f0SpSnBHVA6Hy9Qn5HwNDy6pi_HuJik"},B=function(e){function t(e){var n;Object(f.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={currentArticleSliceIndex:0,articles:[],articles_liked:[]},n.componentDidMount=n.componentDidMount.bind(Object(v.a)(n));var r=function(){var e=document.documentElement.clientHeight,t=document.documentElement.clientWidth>=e;n.setState({isTabled:t})};return window.onload=function(){r()},window.onresize=function(){r()},window.onhashchange=Object(u.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.hash.replaceAll("#",""),!(r=n.state.articles.find((function(e){return e.id==t.replaceAll("article","")})))){e.next=10;break}return e.t0=n,e.next=5,n.getStickers(r.id);case 5:e.t1=e.sent,e.t2={article_info:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=11;break;case 10:n.setState({article_info:void 0});case 11:case"end":return e.stop()}}),e)}))),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateArticles();case 2:window.onhashchange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateArticles",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,k(R+"stickers.get",F);case 3:return e.t1=e.sent.response,e.t2=void 0,e.t3={articles:e.t1,article_info:e.t2},e.next=8,e.t0.setState.call(e.t0,e.t3);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStickers",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(R+"stickers.getById",M({},F,{id:t}));case 2:return e.abrupt("return",e.sent.response);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"likeArticle",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(R+"stickers.like",M({},F,{id:t,like:n}));case 2:return r=this.state.article_info,e.next=5,this.setState({article_info:Object.assign(r,{likes:r.likes+1})});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.isTabled,r=t.articles,c=t.currentArticleSliceIndex,i=t.articles_liked,l=t.article_info,o=void 0!==l,f=o?l:{},p=f.id,m=f.image,d=f.title,v=f.date,h=f.likes,k=f.views,_=f.description,O=f.url,C=f.stickers,j=o&&i.indexOf(p)>-1;return o?a.a.createElement("div",{className:"Article__Container Container__".concat(n?"tabled":"phone")},a.a.createElement("div",{className:"Button__Main",onClick:function(){window.location.hash="",e.updateArticles()}},a.a.createElement(w.a,{width:16,height:16,fill:"#3687FF"}),a.a.createElement("span",{style:{marginLeft:10}},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")),a.a.createElement("div",{className:"Article__Info"},a.a.createElement("div",{className:"Article__Icon"},a.a.createElement("img",{alt:"article_icon",src:m})),a.a.createElement("div",{className:"Article__Titles"},a.a.createElement("span",null,d),a.a.createElement("br",null),a.a.createElement("span",null,new Date(v).toLocaleString("ru",{day:"numeric",month:"numeric",year:"numeric"})," \xb7 ",function(e){try{return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}catch(t){return 0}}(k)," ",g(k,["\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440","\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430","\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"],!1))),a.a.createElement("div",{className:"Article__Actions"},a.a.createElement("div",{onClick:function(){return function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.click(),t.remove()}(O)}},a.a.createElement(y.a,null)),a.a.createElement("div",{style:j?{color:"#FF5151",background:"#FFE3E3"}:{},onClick:Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j?i.splice(i.indexOf(p),1):i.push(p),t.next=3,e.likeArticle(p,!j);case 3:e.setState({articles_liked:i});case 4:case"end":return t.stop()}}),t)})))},j?a.a.createElement(P,null):a.a.createElement(S,null),a.a.createElement("span",{style:{marginLeft:10}},h)))),a.a.createElement("html",{dangerouslySetInnerHTML:{__html:_},className:"Article__Description"}),C&&a.a.createElement("div",{className:"Article__Stickers"},a.a.createElement("span",null,"\u041d\u0430\u0431\u043e\u0440 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 ",g(C.length,["\u0441\u0442\u0438\u043a\u0435\u0440","\u0441\u0442\u0438\u043a\u0435\u0440\u0430","\u0441\u0442\u0438\u043a\u0435\u0440\u043e\u0432"]),":"),a.a.createElement("br",null),a.a.createElement("div",null,C.map((function(e,t){return a.a.createElement("img",{alt:"sticker",key:"Img_"+t,src:"https://vk.com/sticker/".concat(e,"/128.png")})})))),a.a.createElement("div",{className:"Article__Rec"},a.a.createElement("span",null,"\u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0442\u0430\u043a \u0436\u0435:"),a.a.createElement("br",null),a.a.createElement("div",null,function(e,t,n){for(var r=[],a=0;a<n;a++){var c=b(e,t);-1===r.indexOf(c)?r.push(c):t>=n?a--:r.push(c)}return r}(0,r.length-1,3).map((function(e,t){return a.a.createElement("div",{key:"div_"+t,onClick:function(){return window.location.hash="article".concat(r[e].id)}},a.a.createElement("img",{alt:"Icon",src:r[e].image}),a.a.createElement("span",null,r[e].title))}))))):a.a.createElement("div",{className:"Main__Container Container__".concat(n?"tabled":"phone")},a.a.createElement("span",{className:"Title"},"\u0421\u0442\u0438\u043a\u0435\u0440\u044b"),a.a.createElement("div",{className:"Grid"},r.slice(0,9+c).map((function(e,t){var n=e.id,r=e.image,c=e.title,i=e.date;e.likes,e.views,e.description,e.url;return a.a.createElement("div",{className:"Card",key:"Card_".concat(t),onClick:function(){return window.location.hash="article"+n}},a.a.createElement("img",{alt:"card_background",src:r,className:"Card__Background"}),a.a.createElement("img",{alt:"card_icon",src:r,className:"Card__Icon"}),a.a.createElement("div",{className:"Card__TextLayout"},a.a.createElement("span",{className:"Card__Title"},c),a.a.createElement("br",null),a.a.createElement("span",{className:"Card__Date"},new Date(i).toLocaleString("ru",{day:"numeric",month:"numeric",year:"numeric"}))))}))),r.length-c>9&&a.a.createElement("div",{className:"Button__ShowMore",onClick:function(){return e.setState({currentArticleSliceIndex:c+9})}},a.a.createElement(E.a,{style:{transform:"rotate(90deg)"}})))}}]),t}(a.a.Component);i.a.render(a.a.createElement(B,null),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.07583195.chunk.js.map